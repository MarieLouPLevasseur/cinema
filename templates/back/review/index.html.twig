{% extends 'base.html.twig' %}


{% block body %}

               {% include('back/_nav_backoffice.html.twig') %}

<div class="container-fluid justify-content-start">
<h2 class="text-center">Liste des critiques de film </h2>
<a class="btn btn-success " href="{{path ('back_review_add')}}" role="button" aria-disabled="add person">Ajouter une critique</a>


 {% for label, messages in app.flashes %}
                {% for message in messages %}
                    <div class="alert alert-{{ label }} alert-dismissible fade show" role="alert">
                        {{ message }}
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>
                {% endfor %}
            {% endfor %}

 <div class="row align-items-start m-10 p-10">
<ul class="list-group">

    {% for current_review in reviews %}
     
{# TODO revoir l'affichage du template pour l'améliorer #}
{# TODO afficher les critques par film #}

<div class="list-group-item col-12"> {{current_review.content}} </br> notation : {{current_review.rating}} </br> 

{%  if current_review.rating is not null %}
{# ! reaction ne fonctionne pas: il veut boucler sur un tableau, à revoir #}
{# reaction : {{current_review.reactions}}   #}
{% endif %}
<div>
{# <div class="list-group-item col-12"> <div> #}
{# <div class="list-group-item col-12"> {{current_review.reactions}} <div> #}


<a class="btn btn-primary " href="{{path ('back_review_edit', {id: current_review.id} )}}" role="button" aria-disabled="edit casting">Modifier</a>

<a class="btn btn-danger " href="{{path ("back_review_delete",{id: current_review.id} )}}" role="button" aria-disabled="edit">supprimer</a>
        </div>
        </div>
       
    {% endfor %}


 </ul> 

 </div>
</div>

  {% endblock %}